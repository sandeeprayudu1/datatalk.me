{% extends 'base.html' %}

{% block title %}
    Data science blogs
{% endblock %}


{% block content %}
    {% if category_posts %}
        <br>
        <h1 class="text-center">{{ cats }}</h1>
        <hr style="height:4px;border-width:0;color:#14081f;background-color:#14081f">
        <div class="row">
        {% for post in category_posts %}
            
                <div class="col-sm-6">
                    {% if post.image %}
                        <a style="text-decoration: none;color: black;" href="{% url 'artical-detail' post.pk %}"><img class="img-fluid mb-3" src="{{ post.image.url }}" alt="" width="500" height="300"></a>
                    {% endif %}
                    <a style="text-decoration: none;" href="{% url 'artical-detail' post.pk %}"><h4>{{ post.title }}</h4></a>
                    {{post.body| slice:":250" | safe}} <a style="text-decoration: none;" href="{% url 'artical-detail' post.pk %}">read more ....</a><br>
                    <div>
                        {% if user.is_authenticated %}
                            {% if user.id == post.author.id %}
                                <a class="btn btn-sm" style="text-decoration: none;" href="{% url 'update-post' post.pk %}"><b>Edit</b></a>
                                <a class="btn btn-sm" style="text-decoration: none;" href="{% url 'delete-post' post.pk %}"><b>Delete</b></a>
                            {% endif %}
                        {% endif %}
                        <div style="float: right; padding-top: 30px;">
                            --- {{ post.author.first_name}} {{post.author.last_name}} - {{post.pub_date}}
                        </div>
                    </div>
                </div>
                <br>
        {% endfor %}
    </div>
    {% else %}
        <h4>Sorry we didn't find your specified category</h4>
    {% endif %}
    <hr style="height:4px;border-width:0;color:#14081f;background-color:#14081f">
    {% for item in cat_menu %}
        <a href="{% url 'category' item|slugify %}" class="btn btn-dark">{{item}}</a>
    {% endfor %}
{% endblock %}



